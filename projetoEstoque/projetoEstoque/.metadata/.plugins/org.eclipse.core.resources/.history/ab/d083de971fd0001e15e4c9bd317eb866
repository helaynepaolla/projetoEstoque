package projetoEstoqueController;

@RestController
@RequestMapping("/api/estoque")

public class EstoqueController {
	private final EstoqueRepository estoqueRepository;
	private final EstoqueService estoqueService;
	
	public EstoqueController(EstoqueService estoqueService) {
        this.estoqueService = estoqueService;
    }
	
    public EstoqueController(EstoqueRepository estoqueRepository) {
        this.estoqueRepository = estoqueRepository;
    }

    @PostMapping("/gravar")
    public ResponseEntity<String> gravarInformacoes(@RequestBody DadosEstoque dados) {
        // Aqui você pode validar os dados, manipular as informações se necessário e persistir no banco de dados usando o repositório
        estoqueRepository.save(dados);

        return ResponseEntity.ok("Informações gravadas com sucesso");
    }
    
    @GetMapping("/listar")
    public ResponseEntity<List<DadosEstoque>> listarInformacoes(@RequestParam int pagina, @RequestParam int tamanhoPagina) {
        // Chame o serviço para obter informações do banco de dados
        List<DadosEstoque> dados = estoqueService.listarInformacoesPaginadas(pagina, tamanhoPagina);
        
        return ResponseEntity.ok(dados);
    }

}
